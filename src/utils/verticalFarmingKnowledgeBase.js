// Vertical Farming Knowledge Base
export const knowledgeBase = {
  // Basic concepts
  definition: {
    keywords: ['what is', 'define', 'definition', 'meaning', 'explain vertical farming', 'basics'],
    content: `Vertical farming is a method of growing crops in vertically stacked layers instead of spreading them out on large horizontal fields. It is usually done indoors using controlled conditions like artificial or managed light, temperature, water, and nutrients to optimize plant growth.

Key Features:
â€¢ Crops are grown in multiple layers on racks, shelves, or towers to use height and save land area
â€¢ Set up inside buildings, warehouses, greenhouses, or shipping containers
â€¢ Environment is fully controlled for optimal plant growth
â€¢ Uses soilless methods like hydroponics, aeroponics, or aquaponics`
  },

  // How it works
  howItWorks: {
    keywords: ['how does', 'how it works', 'process', 'working', 'mechanism', 'operation'],
    content: `Vertical farming works through controlled environment agriculture:

Growing Methods:
â€¢ Hydroponics: Plants grown in nutrient-rich water solutions
â€¢ Aeroponics: Roots sprayed with nutrient mist (uses 90% less water)
â€¢ Aquaponics: Fish water provides nutrients to plants

Control Systems:
â€¢ LED lighting simulates sunlight with specific wavelengths
â€¢ Climate control manages temperature, humidity, and COâ‚‚
â€¢ Automated nutrient and water delivery systems
â€¢ Sensors and IoT monitoring for real-time optimization

Seed Life Cycle:
1. Germination in optimal conditions
2. Seedlings transferred to growth trays/towers
3. Continuous nutrient delivery via hydroponics/aeroponics
4. Harvesting when plants reach maturity (faster than traditional farming)`
  },

  // Advantages
  advantages: {
    keywords: ['benefits', 'advantages', 'pros', 'positive', 'why use', 'good'],
    content: `Main Benefits of Vertical Farming:

Space & Water Efficiency:
â€¢ Uses 95-98% less water than traditional farming
â€¢ Produces 10-30 times more yield per square meter
â€¢ Ideal for urban areas with limited land

Production Benefits:
â€¢ Year-round production independent of weather
â€¢ Multiple harvests per year (up to 14 lettuce crops annually)
â€¢ Faster growth cycles than traditional farming

Environmental Benefits:
â€¢ Minimal or no pesticide use (clean indoor environment)
â€¢ Reduces carbon emissions (local production, less transport)
â€¢ Conserves arable land and protects natural habitats
â€¢ Reduces deforestation and desertification

Food Security:
â€¢ Provides fresh produce in urban areas and food deserts
â€¢ Reduces food miles and post-harvest losses
â€¢ Stable supply unaffected by climate or seasonal changes
â€¢ Better food safety with lower contamination risk`
  },

  // Challenges
  challenges: {
    keywords: ['challenges', 'disadvantages', 'problems', 'issues', 'limitations', 'cons', 'drawbacks'],
    content: `Challenges of Vertical Farming:

Economic Challenges:
â€¢ Very high initial setup costs ($100+ million for large farms)
â€¢ High electricity costs, especially for LED lighting
â€¢ Expensive urban real estate in cities
â€¢ Profitability depends on high-value crops

Technical Challenges:
â€¢ High energy consumption for lighting and climate control
â€¢ Requires skilled technical management (IoT, automation, data analysis)
â€¢ Dependent on technology - system failures can affect entire crops
â€¢ Need for renewable energy to offset carbon footprint

Crop Limitations:
â€¢ Best suited for leafy greens, herbs, microgreens, strawberries
â€¢ Not economical for staple crops like wheat, rice, or large field crops
â€¢ Cannot grow tubers (potatoes, onions, garlic)
â€¢ Tall plants and long-cycle crops are less profitable`
  },

  // Crops
  crops: {
    keywords: ['crops', 'plants', 'what can grow', 'vegetables', 'suitable crops', 'grow'],
    content: `Crops Suitable for Vertical Farming:

Best Crops:
â€¢ Leafy Greens: Lettuce, spinach, kale, arugula
â€¢ Herbs: Basil, mint, cilantro, parsley
â€¢ Microgreens: Baby arugula, radish sprouts
â€¢ Fruits: Strawberries, cherry tomatoes
â€¢ Vegetables: Peppers, some small tomato varieties

Experimental/Coming Soon:
â€¢ Strawberries (advanced systems)
â€¢ Tomatoes
â€¢ Celery
â€¢ Cucumber

Cannot Currently Grow:
â€¢ Tubers: Potatoes, onions, garlic
â€¢ Large field crops: Wheat, rice (not yet economically viable)
â€¢ Tall plants with long growth cycles
â€¢ Crops requiring extensive root space

Note: Over 50 types of plants can be grown in modern vertical farming systems, with more being researched continuously.`
  },

  // Technology
  technology: {
    keywords: ['technology', 'equipment', 'systems', 'led', 'automation', 'sensors', 'iot'],
    content: `Key Technologies in Vertical Farming:

Lighting Systems:
â€¢ LED grow lights (28%+ efficient, improving constantly)
â€¢ Red and blue light spectrum for optimal photosynthesis
â€¢ Automated light schedules based on crop needs
â€¢ 90% less light energy with natural sunlight integration (hybrid greenhouses)

Growing Systems:
â€¢ Hydroponics: Nutrient-rich water solutions
â€¢ Aeroponics: Nutrient mist systems
â€¢ Aquaponics: Integrated fish and plant farming
â€¢ Tower systems for vertical stacking

Automation & Monitoring:
â€¢ IoT sensors for pH, EC, temperature, humidity, COâ‚‚
â€¢ AI-powered monitoring and optimization
â€¢ Automated nutrient delivery and irrigation
â€¢ Computer vision for plant health monitoring
â€¢ Agricultural robots for harvesting

Climate Control:
â€¢ HVAC systems for temperature regulation
â€¢ Humidity control and dehumidifiers
â€¢ COâ‚‚ injection for enhanced photosynthesis
â€¢ Air circulation systems`
  },

  // India specific
  india: {
    keywords: ['india', 'indian', 'upsc', 'urban india', 'indian farming'],
    content: `Vertical Farming in India:

Why It's Important for India:
â€¢ Addresses limited arable land and rapid urbanization
â€¢ Tackles water scarcity (uses 95-98% less water)
â€¢ Provides solution for food security in growing cities
â€¢ Reduces pressure on rural land and water resources

Potential Benefits:
â€¢ Can complement traditional farming, not replace it
â€¢ Improves urban food security
â€¢ Creates jobs in urban areas
â€¢ Reduces transportation costs and food waste
â€¢ Enables year-round production despite monsoon irregularities

Challenges in Indian Context:
â€¢ High initial investment costs
â€¢ Electricity availability and costs
â€¢ Need for technical skills and training
â€¢ Best suited for high-value crops near urban markets
â€¢ Requires renewable energy integration for sustainability

Current Status:
â€¢ Still relatively new concept in India
â€¢ Growing interest from developers and local governments
â€¢ Potential for implementation in major cities like Bangalore, Mumbai, Delhi
â€¢ Can address food deserts and provide fresh local produce`
  },

  // History
  history: {
    keywords: ['history', 'origin', 'who invented', 'when started', 'despommier', 'evolution'],
    content: `History of Vertical Farming:

Ancient Origins:
â€¢ Hanging Gardens of Babylon (2,500 years ago) - earliest example
â€¢ Aztec chinampas (floating gardens, ~1000 years ago)
â€¢ Incan terrace farming on mountain slopes

Modern Concept:
â€¢ 1915: Term "vertical farming" coined by Gilbert Ellis Bailey
â€¢ 1999: Modern concept proposed by Dr. Dickson Despommier (Father of Vertical Farming)
â€¢ Columbia University students calculated rooftop farming could feed only 2% of Manhattan
â€¢ Despommier suggested growing plants indoors, vertically

Key Milestones:
â€¢ 2009: World's first pilot system at Paignton Zoo, UK
â€¢ 2011: The Plant in Chicago built with anaerobic digester
â€¢ 2012: World's first commercial vertical farm in Singapore (Sky Greens)
â€¢ 2013: Association for Vertical Farming founded in Munich
â€¢ 2022: World's largest vertical farm opened in Dubai
â€¢ 2025: 80 Acres Farms produces 20 million pounds annually in USA

Notable Pioneers:
â€¢ Dickson Despommier (Columbia University)
â€¢ Ken Yeang (Bioclimatic Skyscraper architect)
â€¢ Companies: AeroFarms, Plenty, Sky Greens, Freight Farms`
  },

  // Water usage
  water: {
    keywords: ['water', 'irrigation', 'water usage', 'water consumption', 'hydration'],
    content: `Water Usage in Vertical Farming:

Water Efficiency:
â€¢ Uses 95-98% less water than traditional farming
â€¢ Water is recirculated and reused in closed systems
â€¢ Minimal loss to evaporation or runoff
â€¢ Dubai's largest farm saves 250 million liters annually

How Water is Managed:
â€¢ Hydroponic systems recirculate nutrient-enriched water
â€¢ Aeroponic systems mist roots with minimal water
â€¢ Dehumidifiers capture evaporated water from plants
â€¢ Rainwater harvesting can supplement water needs
â€¢ Automated sensors monitor and optimize water delivery

Benefits:
â€¢ Critical solution for water-scarce regions
â€¢ Reduces strain on groundwater and municipal supplies
â€¢ Eliminates agricultural runoff pollution
â€¢ Precise delivery means no waste`
  },

  // Energy
  energy: {
    keywords: ['energy', 'electricity', 'power', 'consumption', 'renewable'],
    content: `Energy Considerations in Vertical Farming:

Energy Requirements:
â€¢ High electricity demand for LED lighting (major expense)
â€¢ Climate control (heating, cooling, ventilation)
â€¢ Water pumps and automation systems
â€¢ Can be 200,000+ per hectare for heating in northern climates

Energy Efficiency Solutions:
â€¢ Modern LEDs are 28%+ efficient (improving constantly)
â€¢ Hybrid greenhouses use 90% less light energy (natural sunlight)
â€¢ Integration with renewable energy (solar, wind)
â€¢ Some farms powered 100% by renewable electricity
â€¢ Methane digesters can generate biogas from organic waste

Environmental Impact:
â€¢ Carbon footprint depends on energy source
â€¢ Fossil fuel-powered farms may produce more emissions than traditional farms
â€¢ Renewable energy integration is crucial for sustainability
â€¢ Reduced transportation emissions offset some energy use
â€¢ Agrivoltaic systems combine solar panels with vertical farming`
  },

  // Economics
  economics: {
    keywords: ['cost', 'price', 'profit', 'economics', 'investment', 'expensive', 'affordable'],
    content: `Economics of Vertical Farming:

Initial Investment:
â€¢ Very high startup costs (can exceed $100 million for 60-hectare farm)
â€¢ Urban real estate costs ($880-$1,850 per square meter in major cities)
â€¢ Equipment: LED systems, racks, climate control, automation
â€¢ Some shipping container systems claim cost parity with traditional farming

Operating Costs:
â€¢ Electricity is major ongoing expense
â€¢ Labor costs (though less than traditional farming)
â€¢ Nutrients and water (minimal due to recycling)
â€¢ Maintenance of technical systems

Revenue & Profitability:
â€¢ Best for high-value crops (leafy greens, herbs, microgreens)
â€¢ Year-round production enables consistent revenue
â€¢ Premium prices for fresh, local, pesticide-free produce
â€¢ Reduced transportation and spoilage costs
â€¢ Some companies struggle with profitability (Jones Food Company example)
â€¢ Long-term savings can offset initial investment

Market Factors:
â€¢ Growing demand for local, sustainable food
â€¢ Urban markets willing to pay premium prices
â€¢ Reduced food miles attractive to consumers
â€¢ Job creation in urban areas`
  },

  // Future
  future: {
    keywords: ['future', 'potential', 'prospects', 'tomorrow', 'coming', 'next'],
    content: `Future of Vertical Farming:

Growth Projections:
â€¢ By 2050: World population reaches 10 billion, 80% in urban areas
â€¢ 80% of suitable farmland already in use
â€¢ Vertical farming can help meet increased food demand
â€¢ Expansion in major cities worldwide

Technological Advances:
â€¢ More efficient LED lighting reducing energy costs
â€¢ AI and machine learning for optimization
â€¢ Robotic harvesting and monitoring
â€¢ Advanced sensors and IoT integration
â€¢ Improved growing techniques for more crop varieties

Sustainability Goals:
â€¢ Integration with circular economy models
â€¢ Renewable energy powered facilities
â€¢ Zero-waste systems (composting, biogas generation)
â€¢ Reduced environmental impact of food production

Challenges to Overcome:
â€¢ Making staple crops (rice, wheat) economically viable
â€¢ Reducing energy consumption further
â€¢ Lowering initial investment costs
â€¢ Scaling for mass production
â€¢ Training workforce in required technical skills

Potential Impact:
â€¢ Can complement traditional farming for food security
â€¢ Reduces pressure on natural habitats
â€¢ Provides fresh food in remote areas (Arctic, deserts)
â€¢ Addresses climate change impacts on agriculture
â€¢ Creates sustainable urban food systems

Note: Vertical farming won't replace traditional farming but will be an important component of future food production systems.`
  },

  // Food security
  foodSecurity: {
    keywords: ['food security', 'feed the world', 'hunger', 'population', 'global food'],
    content: `Vertical Farming and Global Food Security:

Current Challenges:
â€¢ World population projected to reach 10 billion by 2050
â€¢ 80% will live in urban areas
â€¢ 80% of suitable farmland already in use
â€¢ Climate change threatening traditional agriculture
â€¢ 30% of crops lost to spoilage and infestation globally

How Vertical Farming Helps:
â€¢ Produces food where people live (urban areas)
â€¢ Year-round production regardless of climate
â€¢ Reduces post-harvest losses (shorter supply chain)
â€¢ Provides fresh produce in food deserts
â€¢ Reduces dependency on long-distance food transport
â€¢ Stable supply unaffected by weather disasters

Limitations:
â€¢ Cannot currently replace traditional farming
â€¢ Best for high-value crops, not staples
â€¢ Requires significant infrastructure investment
â€¢ Energy demands must be met sustainably

Realistic Outlook:
â€¢ Vertical farming is a complement, not complete solution
â€¢ Can significantly improve urban food access
â€¢ Helps preserve farmland for staple crop production
â€¢ Part of diverse, resilient food system
â€¢ Particularly valuable in areas with limited arable land or water`
  },

  // Comparison with traditional farming
  comparison: {
    keywords: ['vs traditional', 'compare', 'difference', 'traditional farming', 'conventional'],
    content: `Vertical Farming vs Traditional Farming:

Space Usage:
â€¢ Vertical: 99% less land, stacked layers maximize space
â€¢ Traditional: Requires large horizontal fields

Water Usage:
â€¢ Vertical: 95-98% less water, recirculated systems
â€¢ Traditional: High water consumption, irrigation runoff

Yield:
â€¢ Vertical: 10-30x more per square meter, up to 240x for some crops
â€¢ Traditional: Limited by land area and growing season

Production Schedule:
â€¢ Vertical: Year-round, multiple harvests (14+ lettuce crops/year)
â€¢ Traditional: Seasonal, weather-dependent

Pesticides:
â€¢ Vertical: Minimal to none (controlled environment)
â€¢ Traditional: Regular pesticide application needed

Location:
â€¢ Vertical: Urban areas, near consumers
â€¢ Traditional: Rural areas, often far from cities

Energy:
â€¢ Vertical: High electricity use (LED, climate control)
â€¢ Traditional: Lower energy, uses natural sunlight

Crops:
â€¢ Vertical: Leafy greens, herbs, some fruits
â€¢ Traditional: All crops including staples (wheat, rice, corn)

Labor:
â€¢ Vertical: Technical skills, less physical labor
â€¢ Traditional: More physical labor, seasonal workers

Investment:
â€¢ Vertical: Very high initial costs
â€¢ Traditional: Lower startup costs

Best Use Cases:
â€¢ Vertical: High-value crops in urban areas, water-scarce regions
â€¢ Traditional: Staple crops, large-scale production, areas with good farmland

Conclusion: Both methods are needed for sustainable food future.`
  }
};

// Function to find relevant answer based on user question
export function findAnswer(question) {
  const lowerQuestion = question.toLowerCase();
  
  // Search through knowledge base
  for (const [key, section] of Object.entries(knowledgeBase)) {
    const keywordMatch = section.keywords.some(keyword => 
      lowerQuestion.includes(keyword.toLowerCase())
    );
    
    if (keywordMatch) {
      return section.content;
    }
  }
  
  // Check for specific topics mentioned
  if (lowerQuestion.includes('tower') || lowerQuestion.includes('rack') || lowerQuestion.includes('stack')) {
    return knowledgeBase.howItWorks.content;
  }
  
  if (lowerQuestion.includes('lettuce') || lowerQuestion.includes('herb') || lowerQuestion.includes('spinach')) {
    return knowledgeBase.crops.content;
  }
  
  if (lowerQuestion.includes('greenhouse') || lowerQuestion.includes('warehouse') || lowerQuestion.includes('container')) {
    return knowledgeBase.howItWorks.content;
  }
  
  if (lowerQuestion.includes('pesticide') || lowerQuestion.includes('chemical') || lowerQuestion.includes('organic')) {
    return knowledgeBase.advantages.content;
  }
  
  if (lowerQuestion.includes('expensive') || lowerQuestion.includes('costly')) {
    return knowledgeBase.economics.content;
  }
  
  // Default response if no match found
  return null;
}

// Function to generate a contextual response
export function generateResponse(question) {
  const answer = findAnswer(question);
  
  if (answer) {
    return answer;
  }
  
  // Fallback responses for general queries
  const lowerQuestion = question.toLowerCase();
  
  if (lowerQuestion.includes('hello') || lowerQuestion.includes('hi') || lowerQuestion.includes('hey')) {
    return "Hello! I'm your Vertical Farming AI Assistant. I can answer questions about vertical farming, its benefits, technologies, crops, challenges, and more. What would you like to know?";
  }
  
  if (lowerQuestion.includes('help') || lowerQuestion.includes('what can you')) {
    return `I'm your Vertical Farming AI Assistant! I can answer questions about vertical farming - from basic concepts to advanced technologies, benefits, challenges, suitable crops, water and energy usage, economics, and future prospects. Just ask me anything specific you'd like to know!`;
  }
  
  if (lowerQuestion.includes('thank')) {
    return "You're welcome! Feel free to ask if you have more questions about vertical farming. Happy to help! ðŸŒ±";
  }
  
  // If truly no match, provide helpful guidance
  return `I'm not sure I understood your question. I specialize in vertical farming and can help with questions about what it is, how it works, benefits, challenges, suitable crops, technologies, costs, and more. Could you please rephrase your question or ask something specific about vertical farming?`;
}

